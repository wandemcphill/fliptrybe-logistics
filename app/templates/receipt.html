{% extends "base.html" %}
{% block content %}
<div class="max-w-3xl mx-auto py-20 px-6" id="receipt">
    <div class="bg-white border border-gray-200 p-12 md:p-20 rounded-[48px] shadow-2xl relative overflow-hidden">
        <div class="absolute top-0 right-0 opacity-[0.03] -mr-20 -mt-20">
            <i class="fas fa-shield-alt text-[400px]"></i>
        </div>

        <div class="flex justify-between items-start mb-16 relative z-10">
            <div>
                <h2 class="text-2xl font-black italic">FLIP<span class="text-blue-600">TRYBE</span></h2>
                <p class="text-[8px] font-black uppercase tracking-[0.3em] text-gray-400">Secure Trade Manifest</p>
            </div>
            <div class="text-right">
                <p class="text-[10px] font-black uppercase text-gray-400">Date of Release</p>
                <p class="font-bold">{{ order.timestamp.strftime('%d %B %Y') }}</p>
            </div>
        </div>

        <div class="border-y border-gray-100 py-10 mb-10 relative z-10">
            <div class="grid grid-cols-2 gap-10">
                <div>
                    <p class="text-[8px] font-black uppercase text-gray-400 mb-3 tracking-widest">Buyer Node</p>
                    <p class="font-bold text-sm">{{ order.buyer.name }}</p>
                    <p class="text-xs text-gray-500">{{ order.buyer.email }}</p>
                </div>
                <div>
                    <p class="text-[8px] font-black uppercase text-gray-400 mb-3 tracking-widest">Merchant Node</p>
                    <p class="font-bold text-sm">{{ order.listing.seller.name }}</p>
                    <p class="text-xs text-gray-500">{{ order.listing.seller.email }}</p>
                </div>
            </div>
        </div>

        <div class="mb-16 relative z-10">
            <p class="text-[8px] font-black uppercase text-gray-400 mb-6 tracking-widest">Asset Details</p>
            <div class="flex justify-between items-center bg-gray-50 p-6 rounded-3xl">
                <span class="font-black italic">{{ order.listing.title }}</span>
                <span class="font-black text-xl">â‚¦{{ "{:,.2f}".format(order.total_price) }}</span>
            </div>
        </div>

        <div class="text-center relative z-10">
            <p class="text-[10px] font-black uppercase text-blue-600 mb-2">Protocol Fingerprint</p>
            <p class="text-xl font-black tracking-tighter">{{ order.handshake_id }}</p>
            <div class="mt-10 flex justify-center gap-4 no-print">
                <button onclick="window.print()" class="bg-black text-white px-10 py-4 rounded-full text-[10px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all">Download PDF</button>
            </div>
        </div>
    </div>
</div>

<style>
    @media print {
        .no-print, nav, footer, .marquee { display: none !important; }
        body { background: white; }
        #receipt { padding: 0; margin: 0; }
        .bg-white { border: none; box-shadow: none; }
    }
</style>
{% endblock %}